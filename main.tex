%% For double-blind review submission, w/o CCS and ACM Reference (max submission space)
\documentclass[sigplan,review,anonymous]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For double-blind review submission, w/ CCS and ACM Reference
%\documentclass[sigplan,review,anonymous]{acmart}\settopmatter{printfolios=true}
%% For single-blind review submission, w/o CCS and ACM Reference (max submission space)
%\documentclass[sigplan,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For single-blind review submission, w/ CCS and ACM Reference
%\documentclass[sigplan,review]{acmart}\settopmatter{printfolios=true}
%% For final camera-ready submission, w/ required CCS and ACM Reference
%\documentclass[sigplan]{acmart}\settopmatter{}


%% Conference information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmConference[CGO'19]{International Symposium on Code Generation and Optimization}{February 16--20, 2019}{Washington DC, USA}
\acmYear{2019}
\acmISBN{} % \acmISBN{978-x-xxxx-xxxx-x/YY/MM}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

%% Bibliography style
\bibliographystyle{ACM-Reference-Format}
%% Citation style
%\citestyle{acmauthoryear}  %% For author/year citations
%\citestyle{acmnumeric}     %% For numeric citations
%\setcitestyle{nosort}      %% With 'acmnumeric', to disable automatic
                            %% sorting of references within a single citation;
                            %% e.g., \cite{Smith99,Carpenter05,Baker12}
                            %% rendered as [14,5,2] rather than [2,5,14].
%\setcitesyle{nocompress}   %% With 'acmnumeric', to disable automatic
                            %% compression of sequential references within a
                            %% single citation;
                            %% e.g., \cite{Baker12,Baker14,Baker16}
                            %% rendered as [2,3,4] rather than [2-4].


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{subcaption}
\usepackage{booktabs}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{listings}
\usepackage{color}
\usepackage{xspace}
\usepackage{comment}
\usepackage{graphicx} 
\usepackage{appendix}
\usepackage{wrapfig}
\usepackage{multirow}
\usepackage{bm}
\usepackage{microtype}
\usepackage{enumitem}

% We should not do this.  It can result in automatic rejection. -- Shoaib
%\usepackage[font=scriptsize]{caption}

\setlist{leftmargin=5.5mm}

\definecolor{listinggreen}{rgb}{0,0.6,0}
\definecolor{listinggray}{rgb}{0.5,0.5,0.5}
\definecolor{listingmauve}{rgb}{0.58,0,0.82}
\definecolor{listingkeywordcolor}{rgb}{1.0,0.4,0.0}
\definecolor{listinglightgray}{rgb}{0.8863,0.8863,0.8863}

\newcommand\layeronecolor{blue}
\newcommand\yes{\color{listinggreen}{\textbf{\tiny Yes}}}
\newcommand\no{\color{listingkeywordcolor}{\textbf{\tiny No}}}
\newcommand\limited{\color{listingkeywordcolor}{\textbf{\tiny Limited}}}

\newcommand\TOSAY[1]{{\color{black}\textbf{We Should Say That: }#1}}
\newcommand\COMMENT[1]{}
\newcommand\framework{\textsc{Tiramisu}\xspace}
\newcommand\processor{space\xspace}
\newcommand\Processor{Space\xspace}
\newcommand\layerone{abstract algorithm\xspace}
\newcommand\Layerone{Abstract Algorithm\xspace}
\newcommand\layertwo{computation management\xspace}
\newcommand\Layertwo{Computation Management\xspace}
\newcommand\layerthree{data management\xspace}
\newcommand\Layerthree{Data Management\xspace}
\newcommand\layerfour{communication management\xspace}
\newcommand\Layerfour{Communication Management\xspace}
\newcommand{\pgrammar}[1]{\text{\sf\textless#1\textgreater}}

\newcommand\codetwo{(a)\xspace}
\newcommand\codethree{(b)\xspace}
\newcommand{\lone}[2]{{\color{\listingmauve}{#1}}\textbf{ : }{#2}\xspace}
\newcommand{\HIDE}[1]{}
\newcommand\TODO[1]{\mbox{\textcolor{red}{#1}}}

\lstset{ %
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
  basicstyle=\linespread{0.7}\footnotesize\ttfamily,        % the size of the fonts that are used for the code (scriptsize will violate min font size for PLDI)
  columns=fullflexible,
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=none,                 % sets the caption-position to bottom
  commentstyle=\color{listinggreen},% comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  frame=none,                      % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{listingkeywordcolor}\bfseries,       % keyword style
  language=C,             % the language of the code
  morekeywords={*,...},            % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{listinggray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=1,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{listingmauve},% string literal style
  tabsize=2,                       % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}

\setlength\abovedisplayskip{0pt}
\setlength{\belowdisplayskip}{0pt}

\newcommand{\cL}{{\cal L}}
\newcommand{\polyc}[1]{
                      {\footnotesize
                       \newline
                       \centerline{\color{listingmauve}{#1}}
                      }
                     }
\newcommand{\poly}[1]{
                      {\footnotesize     
                       \color{listingmauve}{#1}
                      }
                     }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hypersetup{draft}

\begin{document}

%% Title information
\title{\framework{}: A Code Optimization Framework for High Performance Systems}

%\titlenote{}             %% \titlenote is optional;
                                        %% can be repeated if necessary;
                                        %% contents suppressed with 'anonymous'
%\subtitle{}                     %% \subtitle is optional
%\subtitlenote{}       %% \subtitlenote is optional;
                                        %% can be repeated if necessary;
                                        %% contents suppressed with 'anonymous'


%% Author information
%% Contents and number of authors suppressed with 'anonymous'.
%% Each author should be introduced by \author, followed by
%% \authornote (optional), \orcid (optional), \affiliation, and
%% \email.
%% An author may have multiple affiliations and/or emails; repeat the
%% appropriate command.
%% Many elements are not rendered, but should be provided for metadata
%% extraction tools.

\author{Riyadh Baghdadi}
\affiliation{
  \institution{MIT}
}
\email{baghdadi@mit.edu}

\author{Jessica Ray}
\affiliation{
  \institution{MIT}
}
\email{jray@mit.edu}

\author{Malek Ben Romdhane}
\affiliation{
  \institution{MIT}
}
\email{malek@mit.edu}

\author{Emanuele Del Sozzo}
\affiliation{
  \institution{Politecnico di Milano}
}
\email{emanuele.delsozzo@polimi.it}

\author{Abdurrahman Akkas}
\affiliation{
  \institution{MIT}
}
\email{akkas@mit.edu}

\author{Yunming Zhang}
\affiliation{
  \institution{MIT}
}
\email{yunming@mit.edu}

\author{Patricia Suriana}
\affiliation{
  \institution{Google}
}
\email{psuriana@google.com}

\author{Shoaib Kamil}
\affiliation{
  \institution{Adobe}
}
\email{kamil@adobe.com}

\author{Saman Amarasinghe}
\affiliation{
  \institution{MIT}
}
\email{saman@mit.edu}


\begin{abstract}
This paper introduces \framework{}, a polyhedral framework designed to generate highly performing code for multiple platforms such as multicores, GPUs, and distributed machines.
\framework{} introduces a scheduling language with novel extensions to explicitly manage the complexities that arise when targeting these systems.  The extensions include computation partitioning, explicit communication, synchronization, and mapping buffers to different memory hierarchies.
\framework{} relies on a flexible representation based on the polyhedral model and explicitly uses a well-defined four-level IR that allows full separation between the algorithms, schedules, data-layouts, and communication.  This separation simplifies targeting multiple hardware architectures from the same algorithm.
We evaluate \framework{} by writing a set of image processing and stencil benchmarks and compare it with state-of-the-art compilers.  We show that \framework{} matches and outperforms existing compilers on different hardware architectures, including multicore CPUs, GPUs, and distributed machines.
\end{abstract}


%% 2012 ACM Computing Classification System (CSS) concepts
%% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008</concept_id>
<concept_desc>Software and its engineering~General programming languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10003456.10003457.10003521.10003525</concept_id>
<concept_desc>Social and professional topics~History of programming languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~General programming languages}
\ccsdesc[300]{Social and professional topics~History of programming languages}
%% End of generated code


\vspace{-0.25cm}
%\keywords{Code optimization, code generation, polyhedral model, CPU, GPU, distributed System}


\maketitle

\input{tex/intro}

\input{tex/related}

\input{tex/overview}

\input{tex/background}

\input{tex/threelayer}

\input{tex/codegen}

\input{tex/evaluation}

%\input{tex/acknowledgement.tex}

\input{tex/conclusion}

%\input{appendix}

\bibliography{bibliography}

\end{document}
